<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora de Subredes IPv4</title>
</head>
<body>
    <h1>Calculadora de Subredes IPv4</h1>
    <form id="subnetCalculator">
        <label for="ipAddress">Dirección IP:</label>
        <input type="text" id="ipAddress" name="ipAddress" required><br><br>

        <label for="numSubnets">Número de Subredes:</label>
        <input type="number" id="numSubnets" name="numSubnets" min="1" required><br><br>

        <input type="submit" value="Calcular">
    </form>

    <h2>Resultado:</h2>
    <pre id="result"></pre>

    <script>
        document.getElementById("subnetCalculator").addEventListener("submit", function(event) {
            event.preventDefault();

            const ipAddress = document.getElementById("ipAddress").value;
            const numSubnets = parseInt(document.getElementById("numSubnets").value, 10);

            // Validar que el número de subredes sea válido (mayor o igual a 1)
            if (numSubnets < 1) {
                alert("El número de subredes debe ser mayor o igual a 1.");
                return;
            }

            // Función para calcular la máscara de subred en función del número de subredes
            function calcularMascaraSubred(numSubnets) {
                // Cálculos para determinar la máscara de subred en función del número de subredes
                // Puedes personalizar esta lógica según tus requisitos

                // Ejemplo: Máscara de subred predeterminada
                const defaultSubnetMask = "255.255.255.0";

                return defaultSubnetMask; // Devolver la máscara de subred calculada
            }

            // Calcula la máscara de subred en función del número de subredes ingresado
            const subnetMask = calcularMascaraSubred(numSubnets);

            // Resto del código para calcular y mostrar los resultados (sin cambios)

            // ...

            // Mostrar la máscara de subred en el resultado
            const resultText = `
                Dirección IP ingresada: ${ipAddress}
                Número de Subredes solicitadas: ${numSubnets}
                Máscara de Subred Calculada: ${subnetMask}
                
                Clase de la IP: Clase ${ipClase}
                
                Representación Binaria de la Dirección IP:
                ${octetosIPBits.map(bits => bits.join('')).join('.')}
                
                Representación Binaria de la Máscara de Red:
                ${octetosMascaraBits.map(bits => bits.join('')).join('.')}
                
                Network ID: ${netID.join('.')}
                Rango del Network ID: ${netID.join('.')} - ${netIDRango.join('.')}
                Incremento de Subred: ${netInc}
                Número de Subredes: ${numSubredes}
                Hosts Usables por Subred: ${numHostsPorSubred}
            `;

            // Mostrar los resultados en el elemento con id "result"
            document.getElementById("result").textContent = resultText;
        });
    </script>
</body>
</html>
